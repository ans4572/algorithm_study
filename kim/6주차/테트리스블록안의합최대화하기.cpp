#include<iostream>

using namespace std;

int map[200][200];
int n,m;

int tetris[19][4][2] = {
{{0,0},{1,0},{2,0},{3,0}},
{{0,0},{0,1},{0,2},{0,3}},
{{0,0},{0,1},{1,0},{1,1}},
{{0,0},{1,0},{2,0},{2,1}},
{{0,0},{1,0},{0,1},{0,2}},
{{0,0},{0,1},{1,1},{2,1}},
{{0,0},{0,1},{0,2},{-1,2}},
{{0,0},{1,0},{1,1},{2,1}},
{{0,0},{0,1},{-1,1},{-1,2}},
{{0,0},{1,0},{2,0},{1,1}},
{{0,0},{0,1},{0,2},{1,1}},
{{0,0},{0,1},{-1,1},{1,1}},
{{0,0},{0,1},{-1,1},{0,2}},
{{0,0},{1,0},{1,1},{1,2}},
{{0,0},{0,1},{1,0},{2,0}},
{{0,0},{0,1},{0,2},{1,2}},
{{0,0},{0,1},{-1,1},{-2,1}},
{{0,0},{1,0},{1,-1},{2,-1}},
{{0,0},{0,1},{1,1},{1,2}}
};


int main(){
    cin>>n>>m;
    for(int i=0; i<n; i++){
        for(int j=0; j<m; j++){
            cin>>map[i][j];
        }
    }

    int maxVal = 0;

    for(int i=0; i<=n-1; i++){
        for(int j=0; j<=m-1; j++){
            for(int k=0; k<19; k++){
                int a = tetris[k][0][0];
                int b = tetris[k][0][1];

                int c = tetris[k][1][0];
                int d = tetris[k][1][1];

                int e = tetris[k][2][0];
                int f = tetris[k][2][1];

                int g = tetris[k][3][0];
                int h = tetris[k][3][1];
                
                if(i+a<0 || j+b<0 || i+c<0 || j+d<0 || i+e<0 || j+f<0 || i+g<0 || j+h<0) continue;
                if(i+a>=n || i+c>=n || i+e>=n || i+g>=n || j+b>=m || j+d>=m || j+f>=m || j+h>=m) continue;

                int sum = map[i+a][j+b]+map[i+c][j+d]+map[i+e][j+f]+map[i+g][j+h];
                if(sum>maxVal) maxVal=sum;
            }
           
        }
    }

    cout<<maxVal;

    return 0;
}
